{% set path = component.path|default(null) %}
{% set webp = component.webp|default(null) %}
{% set class = component.class|default('') %}
{% set alt = component.alt|default('') %}

{% if webp is null and path %}
    {% set changeExtension = path|split('.')|default('') %}
    {% set webp = changeExtension|slice(0, changeExtension|length - 1)|join('.') ~ '.webp' %}
{% endif %}

{% if path %}
    <picture
        {{ class ? 'class=' ~ class }}
    >
        <source 
            srcset="{{ webp }}"
            alt="{{ alt }}"
            type="image/webp"
        > 
        <img 
            src="{{ path }}"
            alt="{{ alt }}"
        >
        <noscript>
            <img 
                src="{{ path }}" 
                alt="{{ alt }}"
            >
        </noscript>
    </picture>
{% endif %}
